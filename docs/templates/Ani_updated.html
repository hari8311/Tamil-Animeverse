<!DOCTYPE html>

<html lang="ta">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>TA — Tamil Animeverse · Tamil Anime Dubs</title>
<link href="static/uploads/Logo.jpeg" rel="icon" type="image/jpeg"/>
<style>
    :root {
      --bg: #05060a;
      --panel: #0f1720;
      --muted: #9aa3b2;
      --accent1: #ef5d7a;
      --accent2: #6b8cff;
      --radius: 14px;
      font-family: 'Poppins', sans-serif;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      background: radial-gradient(circle at top, #0a0f1a 0%, #02050a 80%);
      color: #e6eef8;
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
    }

    /* ✨ Background Video */
    video#bgVideo {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover;
      z-index: -1;
      filter: brightness(0.35) saturate(1.1);
      background: #01030a;
      pointer-events: none;
    }

    /* --- Animation classes --- */
    .fade-in { animation: fadeIn 1s ease both; }
    .slide-down { animation: slideDown 1.2s ease both; }
    .slide-up { animation: slideUp 1.2s ease both; }
    .float-up { animation: floatUp 1.4s ease both; }
    .pop { animation: popIn 0.8s ease both; }

    @keyframes fadeIn { from {opacity:0} to {opacity:1} }
    @keyframes slideDown { from {transform:translateY(-40px);opacity:0} to {transform:none;opacity:1} }
    @keyframes slideUp { from {transform:translateY(60px);opacity:0} to {transform:none;opacity:1} }
    @keyframes floatUp { from {transform:translateY(30px);opacity:0} to {transform:none;opacity:1} }
    @keyframes popIn { from {transform:scale(0.95);opacity:0} to {transform:scale(1);opacity:1} }

    .container { max-width: 1100px; margin: auto; padding: 30px; }

    header { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 16px; }
    .brand { display: flex; align-items: center; gap: 12px; }
    .logo {
      width: 50px; height: 50px; border-radius: 10px;
      background: linear-gradient(135deg,var(--accent1),var(--accent2));
      display: flex; align-items: center; justify-content: center; font-weight: 800;
      box-shadow: 0 0 15px var(--accent1);
      animation: pulseGlow 3s infinite;
    }

    @keyframes pulseGlow {
      0%,100% { box-shadow: 0 0 15px var(--accent1); }
      50% { box-shadow: 0 0 25px var(--accent2); }
    }

    nav a {
      color: var(--muted); margin-left: 20px; text-decoration: none;
      position: relative; transition: 0.3s;
    }
    nav a::after {
      content:''; position:absolute; bottom:-3px; left:0;
      width:0%; height:2px; background:var(--accent1);
      transition:0.3s;
    }
    nav a:hover { color: white; }
    nav a:hover::after { width:100%; }

    .hero { display:grid; grid-template-columns:1fr 320px; gap:24px; margin-top:28px; }

    .card {
      background: var(--panel);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 3px 9px rgba(0,0,0,0.32);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }

    .card:hover { transform: translateY(-5px); box-shadow: 0 6px 14px rgba(0,0,0,0.48); }

    /* Subtler shadows for the Dub Library tiles to reduce the "breath"/blur */
    #library .card {
      /* lower vertical offset, smaller blur, slightly reduced alpha */
      box-shadow: 0 2px 6px rgba(0,0,0,0.28);
    }
    #library .card:hover {
      box-shadow: 0 4px 10px rgba(0,0,0,0.36);
    }

    /* Specific smaller-card adjustments for a tighter, smaller visual box
       applied to individual library items (One Piece, Dragon Ball). */
    #library .card.small {
      box-shadow: 0 1px 4px rgba(0,0,0,0.22);
      border-radius: 10px;
      overflow: hidden;
      /* make the small cards compact */
      max-width: 220px;
      width: 220px; /* fixed compact width so columns stay tight */
      margin: 0; /* align to left within the grid */
      justify-self: start; /* ensure grid item sits at left */
      font-size: 14px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }
    #library .card.small:hover {
      transform: translateY(-3px);
      box-shadow: 0 3px 8px rgba(0,0,0,0.30);
    }
    #library .card.small .meta { padding: 8px; }
    /* Use a portrait/vertical rectangle for these small cards */
    #library .card.small img {
      width: 100%;
      aspect-ratio: 3 / 4; /* portrait */
      height: auto; /* let aspect-ratio control height */
      object-fit: cover;
      border-radius: 8px;
      display: block;
    }

    /* Compact typography and buttons for smaller cards */
    #library .card.small .meta h4 { font-size: 16px; margin: 6px 0 4px; }
    #library .card.small .meta p { font-size: 13px; margin: 0 0 8px; color: var(--muted); }
    #library .card.small .play { padding: 6px 10px; font-size: 13px; border-radius: 6px; }
    #library .card.small .outline { padding: 5px 8px; font-size: 12px; }

    .hero-left {
      display: flex; gap: 24px; padding: 20px; align-items: center;
    }

    .hero-left img {
      width: 50%; height: 240px; object-fit: cover;
      border-radius: 10px; transition: transform 0.5s ease;
    }
    .hero-left img:hover { transform: scale(1.05); }

    .tags { margin: 9px 0; }
    .tag {
      display:inline-block;
      background: rgba(255,255,255,0.08);
      border-radius:8px;
      padding:3px 8px;
      margin-right:6px;
      font-size:12px;
      color:var(--muted);
    }

    .buttons { display:flex; gap:12px; margin-top:12px; }

    .play, .btn {
      background: linear-gradient(90deg,var(--accent1),#ff9b6a);
      border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;
      color: white; font-weight: 600;
      transition: all 0.3s ease;
    }
    .play:hover, .glow-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 20px var(--accent1);
    }
    .outline {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.2);
      color: var(--muted);
      border-radius: 8px;
      padding: 6px 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .outline:hover {
      border-color: var(--accent2);
      color: white;
    }

    .grid {
      display: grid;
      /* limit max column width so compact cards don't stretch apart */
      grid-template-columns: repeat(auto-fit, minmax(180px, 220px));
      gap: 22px;
      margin-top: 26px;
      /* align items to the start (left) so smaller cards don't center */
      justify-items: start;
      /* pack columns to the left so narrow columns sit next to each other */
      justify-content: start;
    }

    .tile {
      display: flex;
      flex-direction: column;
      align-items: right;
      justify-content: flex-start;
      background: linear-gradient(135deg, rgba(107, 140, 255, 0.1), rgba(239, 93, 122, 0.1));
    }

    .tile img {
      width: 50%;
      height: 90%;
      aspect-ratio: 2/3;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    .tile img:hover { transform: scale(1.05); }

    .meta { padding: 14px; text-align: center; }
    .hover-glow:hover {
      box-shadow: 0 0 25px var(--accent2);
      transform: scale(1.02);
    }

    .community {
      display:flex; justify-content:space-between; align-items:center;
      margin-top:40px; padding:26px;
      background:rgba(50, 125, 61, 0); border-radius:10px;
      transition: all 0.3s ease;
    }
    .community:hover { box-shadow: 0 0 20px rgba(255,255,255,0.1); }

    footer { text-align:center; margin-top:40px; color:var(--muted); font-size:14px; }

    /* Search bar styling */
    .search-bar {
      padding: 10px 16px;
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 8px;
      background: rgba(15, 23, 32, 0.8);
      color: #e6eef8;
      font-size: 14px;
      transition: all 0.3s ease;
      width: 200px;
      font-family: 'Poppins', sans-serif;
    }
    .search-bar::placeholder { color: var(--muted); }
    .search-bar:focus {
      outline: none;
      border-color: var(--accent2);
      box-shadow: 0 0 12px rgba(107, 140, 255, 0.4);
      background: rgba(15, 23, 32, 0.95);
    }
    .search-bar:hover {
      border-color: var(--accent2);
    }

    /* Hide library items that don't match search */
    .library-item.hidden { display: none; }

    @media(max-width:700px){
      .hero{grid-template-columns:1fr}
      .hero-left{flex-direction:column; gap: 14px;}
      .hero-left img{width:100%;height:180px}
      nav{margin-top:14px}
    }
  </style>
</head>
<body>
<video id="bgVideo" autoplay muted loop playsinline preload="metadata">
  <source src="static/uploads/bg.mp4" type="video/mp4" />
  <!-- Fallback text if video cannot be played -->
  Your browser does not support the background video.
  <!-- Optional: add a WebM source if you have it
  <source src="static/uploads/bg.webm" type="video/webm" />
  -->
</video>
<div class="container fade-in">
<header class="slide-down">
<div class="brand">
<div class="logo">
<img alt="Tamil Animeverse Logo" src="static/uploads/Logo.jpeg" style="width:50px;height:50px;border-radius:10px;"/>
</div>
<div>
<h1>TAMIL ANIMEVERSE</h1>
<p>தமிழ் அனிமே டப்ஸ் — Official &amp; Fan Dubs</p>
</div>
</div>
<input class="search-bar" id="searchInput" placeholder="Search anime..." type="text"/>
<nav>
<a href="#featured">Featured</a>
<a href="#library">Library</a>
<a href="#community">Community</a>
</nav>
</header>
<section class="fade-in" id="library">
<h3>Dub Library</h3>
<div class="grid">
<article class="card tile hover-pop small library-item">
<img alt="Naruto" src="static/uploads/Naruto.jpg"/>
<div class="meta">
<h4>Naruto</h4>
<p>Action, Shonen</p>
</div>
</article>
<article class="card tile hover-pop small library-item">
<img alt="One Piece cover" src="static/uploads/One piece.jpeg"/>
<div class="meta">
<h4>One Piece </h4>
<p>Action, Adventure</p>
</div>
</article>
<article class="card tile hover-pop small library-item">
<img alt="Dragon Ball Classic" src="static/uploads/Dragon Ball.jpeg"/>
<div class="meta">
<h4>Dragon Ball Classic</h4>
<p>Adventure,Fantasy</p>
</div>
</article>
<article class="card tile hover-pop small library-item">
<img alt="Pokemon" src="static/uploads/Pokemon.jpg"/>
<div class="meta">
<h4>Pokemon</h4>
<p>Animation, Action, Adventure</p>
</div>
</article>
<article class="card tile hover-pop small library-item">
<img alt="Attack on Titan" src="static/uploads/AOT.webp"/>
<div class="meta">
<h4>Attack on Titan</h4>
<p>Animation, Action, Drama</p>
</div>
</article>
<article class="card tile hover-pop small library-item">
<a href="/video_player?anime=jujutsu%20kaisen&episode=[S01%20EP01]%20Jujutsu%20Kaisen%20Tamil.mkv">
  <img alt="Jujutsu Kaisen" src="static/uploads/jujutsu kaisen.jpeg"/>
</a>
<div class="meta">
<h4>Jujutsu Kaisen</h4>
<p>Action, Supernatural</p>
</div>
</article>
</div>
</section>
<section class="slide-up" id="community">
<div class="community">
<div>
<h3>Join the Community</h3>
<p class="muted">Submit your Tamil dubs or join our Discord to collaborate!</p>
</div>
<div class="cta">
<a class="btn glow-btn" href="#">Join Discord</a>
<a class="btn glow-btn" href="#">Submit Dub</a>
</div>
</div>
</section>
<footer class="fade-in">
<div><strong>TA</strong> — Tamil Animeverse © <span id="year"></span></div>
</footer>
</div>

<div id="videoPlayerModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1000; justify-content:center; align-items:center;">
  <video id="videoPlayer" style="width:80%; height:auto; background:black;"></video>
  <button onclick="closeVideoPlayer()" style="position:absolute; top:20px; right:20px; background:red; color:white; border:none; padding:10px 20px; cursor:pointer;">Close</button>
</div>

<script src="static/ani.js"></script>
<script>
  // Search functionality for library items - automatic filtering as you type
    const searchInput = document.getElementById('searchInput');
  const library = document.querySelector('.grid');

  searchInput.addEventListener('input', async (e) => {
    const query = e.target.value.trim();
    
    try {
      const response = await fetch(`/api/search?q=${encodeURIComponent(query)}`);
      const data = await response.json();
      
      if (data.results && data.results.length > 0) {
        library.innerHTML = data.results.map(anime => `
          <article class="card tile hover-pop small library-item">
            <img src="static/uploads/${anime.image}" alt="${anime.title}">
            <div class="meta">
              <h4>${anime.title}</h4>
              <p>${anime.genre}</p>
              <a href="/video_player?anime=${encodeURIComponent(anime.title.toLowerCase())}&episode=">
                <button class="play glow-btn">Play Dub</button>
              </a>
            </div>
          </article>
        `).join('');
      } else {
        library.innerHTML = '<p style="color: var(--muted); text-align: center; width: 100%; padding: 2rem;">No anime found matching your search.</p>';
      }
    } catch (error) {
      console.error('Search error:', error);
    }
  });

  function openVideoPlayer(anime, episode) {
    const videoPlayer = document.getElementById('videoPlayer');
    videoPlayer.src = `/play/${anime}/${episode}`;
    const modal = document.getElementById('videoPlayerModal');
    modal.style.display = 'flex';
    videoPlayer.play();
  }

  function closeVideoPlayer() {
    const modal = document.getElementById('videoPlayerModal');
    modal.style.display = 'none';
    const videoPlayer = document.getElementById('videoPlayer');
    videoPlayer.pause();
    videoPlayer.src = '';
  }

  function downloadVideo(anime, episode) {
    const link = document.createElement('a');
    link.href = `/play/${anime}/${episode}`;
    link.download = episode;
    link.click();
  }
</script>
</body>
<script>
  // Slow down background video playback
  (function(){
    const rate = 0.6; // adjust speed here (1.0 = normal)
    function applyRate() {
      const vid = document.getElementById('bgVideo');
      if (!vid) return;
      try { vid.playbackRate = rate; } catch (_) {}
    }
    // Apply on DOM ready and when metadata is available
    document.addEventListener('DOMContentLoaded', applyRate);
    const v = document.getElementById('bgVideo');
    if (v) {
      v.addEventListener('loadedmetadata', applyRate);
      v.addEventListener('play', applyRate);
    }
    applyRate();
  })();
  </script>
</html>
=======
<!DOCTYPE html>

<html lang="ta">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>TA — Tamil Animeverse · Tamil Anime Dubs</title>
<link href="static/uploads/Logo.jpeg" rel="icon" type="image/jpeg"/>
<style>
    :root {
      --bg: #05060a;
      --panel: #0f1720;
      --muted: #9aa3b2;
      --accent1: #ef5d7a;
      --accent2: #6b8cff;
      --radius: 14px;
      font-family: 'Poppins', sans-serif;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      background: radial-gradient(circle at top, #0a0f1a 0%, #02050a 80%);
      color: #e6eef8;
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
    }

    /* ✨ Background Video */
    video#bgVideo {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover;
      z-index: -1;
      filter: brightness(0.35) saturate(1.1);
      background: #01030a;
      pointer-events: none;
    }

    /* --- Animation classes --- */
    .fade-in { animation: fadeIn 1s ease both; }
    .slide-down { animation: slideDown 1.2s ease both; }
    .slide-up { animation: slideUp 1.2s ease both; }
    .float-up { animation: floatUp 1.4s ease both; }
    .pop { animation: popIn 0.8s ease both; }

    @keyframes fadeIn { from {opacity:0} to {opacity:1} }
    @keyframes slideDown { from {transform:translateY(-40px);opacity:0} to {transform:none;opacity:1} }
    @keyframes slideUp { from {transform:translateY(60px);opacity:0} to {transform:none;opacity:1} }
    @keyframes floatUp { from {transform:translateY(30px);opacity:0} to {transform:none;opacity:1} }
    @keyframes popIn { from {transform:scale(0.95);opacity:0} to {transform:scale(1);opacity:1} }

    .container { max-width: 1100px; margin: auto; padding: 30px; }

    header { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 16px; }
    .brand { display: flex; align-items: center; gap: 12px; }
    .logo {
      width: 50px; height: 50px; border-radius: 10px;
      background: linear-gradient(135deg,var(--accent1),var(--accent2));
      display: flex; align-items: center; justify-content: center; font-weight: 800;
      box-shadow: 0 0 15px var(--accent1);
      animation: pulseGlow 3s infinite;
    }

    @keyframes pulseGlow {
      0%,100% { box-shadow: 0 0 15px var(--accent1); }
      50% { box-shadow: 0 0 25px var(--accent2); }
    }

    nav a {
      color: var(--muted); margin-left: 20px; text-decoration: none;
      position: relative; transition: 0.3s;
    }
    nav a::after {
      content:''; position:absolute; bottom:-3px; left:0;
      width:0%; height:2px; background:var(--accent1);
      transition:0.3s;
    }
    nav a:hover { color: white; }
    nav a:hover::after { width:100%; }

    .hero { display:grid; grid-template-columns:1fr 320px; gap:24px; margin-top:28px; }

    .card {
      background: var(--panel);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 3px 9px rgba(0,0,0,0.32);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }

    .card:hover { transform: translateY(-5px); box-shadow: 0 6px 14px rgba(0,0,0,0.48); }

    /* Subtler shadows for the Dub Library tiles to reduce the "breath"/blur */
    #library .card {
      /* lower vertical offset, smaller blur, slightly reduced alpha */
      box-shadow: 0 2px 6px rgba(0,0,0,0.28);
    }
    #library .card:hover {
      box-shadow: 0 4px 10px rgba(0,0,0,0.36);
    }

    /* Specific smaller-card adjustments for a tighter, smaller visual box
       applied to individual library items (One Piece, Dragon Ball). */
    #library .card.small {
      box-shadow: 0 1px 4px rgba(0,0,0,0.22);
      border-radius: 10px;
      overflow: hidden;
      /* make the small cards compact */
      max-width: 220px;
      width: 220px; /* fixed compact width so columns stay tight */
      margin: 0; /* align to left within the grid */
      justify-self: start; /* ensure grid item sits at left */
      font-size: 14px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }
    #library .card.small:hover {
      transform: translateY(-3px);
      box-shadow: 0 3px 8px rgba(0,0,0,0.30);
    }
    #library .card.small .meta { padding: 8px; }
    /* Use a portrait/vertical rectangle for these small cards */
    #library .card.small img {
      width: 100%;
      aspect-ratio: 3 / 4; /* portrait */
      height: auto; /* let aspect-ratio control height */
      object-fit: cover;
      border-radius: 8px;
      display: block;
    }

    /* Compact typography and buttons for smaller cards */
    #library .card.small .meta h4 { font-size: 16px; margin: 6px 0 4px; }
    #library .card.small .meta p { font-size: 13px; margin: 0 0 8px; color: var(--muted); }
    #library .card.small .play { padding: 6px 10px; font-size: 13px; border-radius: 6px; }
    #library .card.small .outline { padding: 5px 8px; font-size: 12px; }

    .hero-left {
      display: flex; gap: 24px; padding: 20px; align-items: center;
    }

    .hero-left img {
      width: 50%; height: 240px; object-fit: cover;
      border-radius: 10px; transition: transform 0.5s ease;
    }
    .hero-left img:hover { transform: scale(1.05); }

    .tags { margin: 9px 0; }
    .tag {
      display:inline-block;
      background: rgba(255,255,255,0.08);
      border-radius:8px;
      padding:3px 8px;
      margin-right:6px;
      font-size:12px;
      color:var(--muted);
    }

    .buttons { display:flex; gap:12px; margin-top:12px; }

    .play, .btn {
      background: linear-gradient(90deg,var(--accent1),#ff9b6a);
      border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer;
      color: white; font-weight: 600;
      transition: all 0.3s ease;
    }
    .play:hover, .glow-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 20px var(--accent1);
    }
    .outline {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.2);
      color: var(--muted);
      border-radius: 8px;
      padding: 6px 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .outline:hover {
      border-color: var(--accent2);
      color: white;
    }

    .grid {
      display: grid;
      /* limit max column width so compact cards don't stretch apart */
      grid-template-columns: repeat(auto-fit, minmax(180px, 220px));
      gap: 22px;
      margin-top: 26px;
      /* align items to the start (left) so smaller cards don't center */
      justify-items: start;
      /* pack columns to the left so narrow columns sit next to each other */
      justify-content: start;
    }

    .tile {
      display: flex;
      flex-direction: column;
      align-items: right;
      justify-content: flex-start;
      background: linear-gradient(135deg, rgba(107, 140, 255, 0.1), rgba(239, 93, 122, 0.1));
    }

    .tile img {
      width: 50%;
      height: 90%;
      aspect-ratio: 2/3;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    .tile img:hover { transform: scale(1.05); }

    .meta { padding: 14px; text-align: center; }
    .hover-glow:hover {
      box-shadow: 0 0 25px var(--accent2);
      transform: scale(1.02);
    }

    .community {
      display:flex; justify-content:space-between; align-items:center;
      margin-top:40px; padding:26px;
      background:rgba(50, 125, 61, 0); border-radius:10px;
      transition: all 0.3s ease;
    }
    .community:hover { box-shadow: 0 0 20px rgba(255,255,255,0.1); }

    footer { text-align:center; margin-top:40px; color:var(--muted); font-size:14px; }

    /* Search bar styling */
    .search-bar {
      padding: 10px 16px;
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 8px;
      background: rgba(15, 23, 32, 0.8);
      color: #e6eef8;
      font-size: 14px;
      transition: all 0.3s ease;
      width: 200px;
      font-family: 'Poppins', sans-serif;
    }
    .search-bar::placeholder { color: var(--muted); }
    .search-bar:focus {
      outline: none;
      border-color: var(--accent2);
      box-shadow: 0 0 12px rgba(107, 140, 255, 0.4);
      background: rgba(15, 23, 32, 0.95);
    }
    .search-bar:hover {
      border-color: var(--accent2);
    }

    /* Hide library items that don't match search */
    .library-item.hidden { display: none; }

    @media(max-width:700px){
      .hero{grid-template-columns:1fr}
      .hero-left{flex-direction:column; gap: 14px;}
      .hero-left img{width:100%;height:180px}
      nav{margin-top:14px}
    }
  </style>
</head>
<body>
<video id="bgVideo" autoplay muted loop playsinline preload="metadata">
  <source src="static/uploads/bg.mp4" type="video/mp4" />
  <!-- Fallback text if video cannot be played -->
  Your browser does not support the background video.
  <!-- Optional: add a WebM source if you have it
  <source src="static/uploads/bg.webm" type="video/webm" />
  -->
</video>
<div class="container fade-in">
<header class="slide-down">
<div class="brand">
<div class="logo">
<img alt="Tamil Animeverse Logo" src="static/uploads/Logo.jpeg" style="width:50px;height:50px;border-radius:10px;"/>
</div>
<div>
<h1>TAMIL ANIMEVERSE</h1>
<p>தமிழ் அனிமே டப்ஸ் — Official &amp; Fan Dubs</p>
</div>
</div>
<input class="search-bar" id="searchInput" placeholder="Search anime..." type="text"/>
<nav>
<a href="#featured">Featured</a>
<a href="#library">Library</a>
<a href="#community">Community</a>
</nav>
</header>
<section class="fade-in" id="library">
<h3>Dub Library</h3>
<div class="grid">
<article class="card tile hover-pop small library-item">
<img alt="Naruto" src="static/uploads/Naruto.jpg"/>
<div class="meta">
<h4>Naruto</h4>
<p>Action, Shonen</p>
</div>
</article>
<article class="card tile hover-pop small library-item">
<img alt="One Piece cover" src="static/uploads/One piece.jpeg"/>
<div class="meta">
<h4>One Piece </h4>
<p>Action, Adventure</p>
</div>
</article>
<article class="card tile hover-pop small library-item">
<img alt="Dragon Ball Classic" src="static/uploads/Dragon Ball.jpeg"/>
<div class="meta">
<h4>Dragon Ball Classic</h4>
<p>Adventure,Fantasy</p>
</div>
</article>
<article class="card tile hover-pop small library-item">
<img alt="Pokemon" src="static/uploads/Pokemon.jpg"/>
<div class="meta">
<h4>Pokemon</h4>
<p>Animation, Action, Adventure</p>
</div>
</article>
<article class="card tile hover-pop small library-item">
<img alt="Attack on Titan" src="static/uploads/AOT.webp"/>
<div class="meta">
<h4>Attack on Titan</h4>
<p>Animation, Action, Drama</p>
</div>
</article>
<article class="card tile hover-pop small library-item">
<a href="/video_player?anime=jujutsu%20kaisen&episode=[S01%20EP01]%20Jujutsu%20Kaisen%20Tamil.mkv">
  <img alt="Jujutsu Kaisen" src="static/uploads/jujutsu kaisen.jpeg"/>
</a>
<div class="meta">
<h4>Jujutsu Kaisen</h4>
<p>Action, Supernatural</p>
</div>
</article>
</div>
</section>
<section class="slide-up" id="community">
<div class="community">
<div>
<h3>Join the Community</h3>
<p class="muted">Submit your Tamil dubs or join our Discord to collaborate!</p>
</div>
<div class="cta">
<a class="btn glow-btn" href="#">Join Discord</a>
<a class="btn glow-btn" href="#">Submit Dub</a>
</div>
</div>
</section>
<footer class="fade-in">
<div><strong>TA</strong> — Tamil Animeverse © <span id="year"></span></div>
</footer>
</div>

<div id="videoPlayerModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1000; justify-content:center; align-items:center;">
  <video id="videoPlayer" style="width:80%; height:auto; background:black;"></video>
  <button onclick="closeVideoPlayer()" style="position:absolute; top:20px; right:20px; background:red; color:white; border:none; padding:10px 20px; cursor:pointer;">Close</button>
</div>

<script src="static/ani.js"></script>
<script>
  // Search functionality for library items - automatic filtering as you type
  const searchInput = document.getElementById('searchInput');
  const library = document.querySelector('.grid');

  searchInput.addEventListener('input', async (e) => {
    const query = e.target.value.trim();
    
    try {
      const response = await fetch(`/api/search?q=${encodeURIComponent(query)}`);
      const data = await response.json();
      
      if (data.results && data.results.length > 0) {
        library.innerHTML = data.results.map(anime => `
          <article class="card tile hover-pop small library-item">
            <img src="static/uploads/${anime.image}" alt="${anime.title}">
            <div class="meta">
              <h4>${anime.title}</h4>
              <p>${anime.genre}</p>
              <a href="/video_player?anime=${encodeURIComponent(anime.title.toLowerCase())}&episode=">
                <button class="play glow-btn">Play Dub</button>
              </a>
            </div>
          </article>
        `).join('');
      } else {
        library.innerHTML = '<p style="color: var(--muted); text-align: center; width: 100%; padding: 2rem;">No anime found matching your search.</p>';
      }
    } catch (error) {
      console.error('Search error:', error);
    }
  });

  function openVideoPlayer(anime, episode) {
    const videoPlayer = document.getElementById('videoPlayer');
    videoPlayer.src = `/play/${anime}/${episode}`;
    const modal = document.getElementById('videoPlayerModal');
    modal.style.display = 'flex';
    videoPlayer.play();
  }

  function closeVideoPlayer() {
    const modal = document.getElementById('videoPlayerModal');
    modal.style.display = 'none';
    const videoPlayer = document.getElementById('videoPlayer');
    videoPlayer.pause();
    videoPlayer.src = '';
  }

  function downloadVideo(anime, episode) {
    const link = document.createElement('a');
    link.href = `/play/${anime}/${episode}`;
    link.download = episode;
    link.click();
  }
</script>
</body>
<script>
  // Slow down background video playback
  (function(){
    const rate = 0.6; // adjust speed here (1.0 = normal)
    function applyRate() {
      const vid = document.getElementById('bgVideo');
      if (!vid) return;
      try { vid.playbackRate = rate; } catch (_) {}
    }
    // Apply on DOM ready and when metadata is available
    document.addEventListener('DOMContentLoaded', applyRate);
    const v = document.getElementById('bgVideo');
    if (v) {
      v.addEventListener('loadedmetadata', applyRate);
      v.addEventListener('play', applyRate);
    }
    applyRate();
  })();
  </script>
</html>
>>>>>>> d31c9ed598bbb9ce4b8f604132216fea29162b77
